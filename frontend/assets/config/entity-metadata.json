{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://trossapp.com/schemas/entity-metadata.json",
  "title": "TrossApp Entity Metadata",
  "description": "Frontend mirror of backend entity metadata. Auto-generated by sync-entity-metadata.js",
  "version": "1.0.0",
  "lastModified": "2026-01-26",
  "audit_log": {
    "tableName": "audit_logs",
    "primaryKey": "id",
    "identityField": "id",
    "rlsResource": "audit_logs",
    "icon": "history",
    "displayName": "Audit log",
    "displayNamePlural": "Audit logs",
    "filterableFields": [
      "action",
      "resource_type",
      "resource_id",
      "user_id",
      "created_at"
    ],
    "sortableFields": [
      "id",
      "action",
      "created_at"
    ],
    "defaultSort": {
      "field": "created_at",
      "order": "DESC"
    },
    "fieldGroups": {},
    "fields": {
      "id": {
        "type": "integer",
        "readonly": true
      },
      "action": {
        "type": "string",
        "required": true,
        "readonly": true
      },
      "resource_type": {
        "type": "string",
        "readonly": true
      },
      "resource_id": {
        "type": "integer",
        "readonly": true
      },
      "user_id": {
        "type": "foreignKey",
        "relatedEntity": "user",
        "displayField": "email",
        "readonly": true
      },
      "ip_address": {
        "type": "string",
        "readonly": true
      },
      "user_agent": {
        "type": "string",
        "readonly": true
      },
      "details": {
        "type": "jsonb",
        "readonly": true
      },
      "created_at": {
        "type": "timestamp",
        "readonly": true
      }
    }
  },
  "contract": {
    "tableName": "contracts",
    "primaryKey": "id",
    "identityField": "contract_number",
    "rlsResource": "contracts",
    "icon": "description",
    "displayName": "Contract",
    "displayNamePlural": "Contracts",
    "requiredFields": [
      "customer_id",
      "start_date"
    ],
    "immutableFields": [
      "contract_number"
    ],
    "searchableFields": [
      "contract_number",
      "name",
      "summary"
    ],
    "filterableFields": [
      "id",
      "contract_number",
      "customer_id",
      "is_active",
      "status",
      "start_date",
      "end_date",
      "billing_cycle",
      "created_at",
      "updated_at"
    ],
    "sortableFields": [
      "id",
      "contract_number",
      "status",
      "value",
      "start_date",
      "end_date",
      "created_at",
      "updated_at"
    ],
    "defaultSort": {
      "field": "created_at",
      "order": "DESC"
    },
    "fieldGroups": {},
    "relationships": {
      "customer_id": {
        "relatedEntity": "customer",
        "displayField": "email",
        "type": "belongsTo"
      }
    },
    "fields": {
      "id": {
        "type": "integer",
        "readonly": true
      },
      "contract_number": {
        "type": "string",
        "readonly": true,
        "maxLength": 100,
        "pattern": "^CTR-[0-9]{4}-[0-9]+$"
      },
      "is_active": {
        "type": "boolean",
        "default": true
      },
      "created_at": {
        "type": "timestamp",
        "readonly": true
      },
      "updated_at": {
        "type": "timestamp",
        "readonly": true
      },
      "status": {
        "type": "enum",
        "default": "draft",
        "values": [
          "draft",
          "active",
          "expired",
          "cancelled",
          "terminated"
        ]
      },
      "name": {
        "type": "string",
        "maxLength": 255
      },
      "summary": {
        "type": "string",
        "maxLength": 255
      },
      "customer_id": {
        "type": "foreignKey",
        "relatedEntity": "customer",
        "displayField": "email",
        "required": true
      },
      "start_date": {
        "type": "date",
        "required": true
      },
      "end_date": {
        "type": "date"
      },
      "terms": {
        "type": "text",
        "maxLength": 50000
      },
      "value": {
        "type": "currency",
        "min": 0
      },
      "billing_cycle": {
        "type": "enum",
        "values": [
          "monthly",
          "quarterly",
          "annually",
          "one_time"
        ]
      }
    }
  },
  "customer": {
    "tableName": "customers",
    "primaryKey": "id",
    "identityField": "email",
    "rlsResource": "customers",
    "icon": "people",
    "displayName": "Customer",
    "displayNamePlural": "Customers",
    "requiredFields": [
      "email",
      "first_name",
      "last_name"
    ],
    "searchableFields": [
      "first_name",
      "last_name",
      "email",
      "phone",
      "organization_name"
    ],
    "filterableFields": [
      "id",
      "email",
      "first_name",
      "last_name",
      "phone",
      "organization_name",
      "is_active",
      "status",
      "created_at",
      "updated_at"
    ],
    "sortableFields": [
      "id",
      "email",
      "first_name",
      "last_name",
      "organization_name",
      "is_active",
      "status",
      "created_at",
      "updated_at"
    ],
    "defaultSort": {
      "field": "created_at",
      "order": "DESC"
    },
    "fieldGroups": {
      "identity": {
        "label": "Identity",
        "fields": [
          "first_name",
          "last_name"
        ],
        "rows": [
          [
            "first_name",
            "last_name"
          ]
        ],
        "order": 1
      },
      "contact": {
        "label": "Contact Information",
        "fields": [
          "email",
          "phone",
          "organization_name"
        ],
        "order": 2
      },
      "billing_address": {
        "label": "Billing Address",
        "fields": [
          "billing_line1",
          "billing_line2",
          "billing_city",
          "billing_state",
          "billing_postal_code",
          "billing_country"
        ],
        "rows": [
          [
            "billing_city",
            "billing_state",
            "billing_postal_code"
          ]
        ],
        "order": 3
      },
      "service_address": {
        "label": "Service Address",
        "fields": [
          "service_line1",
          "service_line2",
          "service_city",
          "service_state",
          "service_postal_code",
          "service_country"
        ],
        "rows": [
          [
            "service_city",
            "service_state",
            "service_postal_code"
          ]
        ],
        "order": 4
      }
    },
    "relationships": {
      "customer_id": {
        "relatedEntity": "contract",
        "displayField": "contract_number",
        "type": "hasMany"
      },
      "customer_profile_id": {
        "relatedEntity": "user",
        "displayField": "email",
        "type": "hasOne"
      }
    },
    "fields": {
      "id": {
        "type": "integer",
        "readonly": true
      },
      "email": {
        "type": "email",
        "required": true,
        "maxLength": 255
      },
      "is_active": {
        "type": "boolean",
        "default": true
      },
      "created_at": {
        "type": "timestamp",
        "readonly": true
      },
      "updated_at": {
        "type": "timestamp",
        "readonly": true
      },
      "status": {
        "type": "enum",
        "default": "pending",
        "values": [
          "pending",
          "active",
          "suspended"
        ]
      },
      "first_name": {
        "type": "string",
        "required": true,
        "maxLength": 100
      },
      "last_name": {
        "type": "string",
        "required": true,
        "maxLength": 100
      },
      "phone": {
        "type": "phone",
        "maxLength": 50
      },
      "organization_name": {
        "type": "string",
        "maxLength": 255
      },
      "billing_line1": {
        "type": "string",
        "maxLength": 255
      },
      "billing_line2": {
        "type": "string",
        "maxLength": 255
      },
      "billing_city": {
        "type": "string",
        "maxLength": 100
      },
      "billing_state": {
        "type": "enum",
        "values": [
          "AL",
          "AK",
          "AZ",
          "AR",
          "CA",
          "CO",
          "CT",
          "DE",
          "DC",
          "FL",
          "GA",
          "HI",
          "ID",
          "IL",
          "IN",
          "IA",
          "KS",
          "KY",
          "LA",
          "ME",
          "MD",
          "MA",
          "MI",
          "MN",
          "MS",
          "MO",
          "MT",
          "NE",
          "NV",
          "NH",
          "NJ",
          "NM",
          "NY",
          "NC",
          "ND",
          "OH",
          "OK",
          "OR",
          "PA",
          "RI",
          "SC",
          "SD",
          "TN",
          "TX",
          "UT",
          "VT",
          "VA",
          "WA",
          "WV",
          "WI",
          "WY",
          "AS",
          "GU",
          "MP",
          "PR",
          "VI",
          "AB",
          "BC",
          "MB",
          "NB",
          "NL",
          "NS",
          "NT",
          "NU",
          "ON",
          "PE",
          "QC",
          "SK",
          "YT"
        ]
      },
      "billing_postal_code": {
        "type": "string",
        "maxLength": 20
      },
      "billing_country": {
        "type": "enum",
        "default": "US",
        "values": [
          "US",
          "CA"
        ]
      },
      "service_line1": {
        "type": "string",
        "maxLength": 255
      },
      "service_line2": {
        "type": "string",
        "maxLength": 255
      },
      "service_city": {
        "type": "string",
        "maxLength": 100
      },
      "service_state": {
        "type": "enum",
        "values": [
          "AL",
          "AK",
          "AZ",
          "AR",
          "CA",
          "CO",
          "CT",
          "DE",
          "DC",
          "FL",
          "GA",
          "HI",
          "ID",
          "IL",
          "IN",
          "IA",
          "KS",
          "KY",
          "LA",
          "ME",
          "MD",
          "MA",
          "MI",
          "MN",
          "MS",
          "MO",
          "MT",
          "NE",
          "NV",
          "NH",
          "NJ",
          "NM",
          "NY",
          "NC",
          "ND",
          "OH",
          "OK",
          "OR",
          "PA",
          "RI",
          "SC",
          "SD",
          "TN",
          "TX",
          "UT",
          "VT",
          "VA",
          "WA",
          "WV",
          "WI",
          "WY",
          "AS",
          "GU",
          "MP",
          "PR",
          "VI",
          "AB",
          "BC",
          "MB",
          "NB",
          "NL",
          "NS",
          "NT",
          "NU",
          "ON",
          "PE",
          "QC",
          "SK",
          "YT"
        ]
      },
      "service_postal_code": {
        "type": "string",
        "maxLength": 20
      },
      "service_country": {
        "type": "enum",
        "default": "US",
        "values": [
          "US",
          "CA"
        ]
      }
    }
  },
  "file_attachment": {
    "tableName": "file_attachments",
    "primaryKey": "id",
    "identityField": "original_filename",
    "rlsResource": "_parent_derived",
    "icon": "attach_file",
    "displayName": "File attachment",
    "displayNamePlural": "File attachments",
    "requiredFields": [
      "entity_type",
      "entity_id",
      "original_filename",
      "storage_key",
      "mime_type",
      "file_size"
    ],
    "immutableFields": [
      "entity_type",
      "entity_id",
      "original_filename",
      "storage_key",
      "mime_type",
      "file_size",
      "uploaded_by"
    ],
    "searchableFields": [
      "original_filename",
      "description"
    ],
    "filterableFields": [
      "entity_type",
      "entity_id",
      "mime_type",
      "category",
      "is_active",
      "uploaded_by"
    ],
    "sortableFields": [
      "original_filename",
      "file_size",
      "created_at",
      "category"
    ],
    "defaultSort": {
      "field": "created_at",
      "order": "desc"
    },
    "fieldGroups": {},
    "fields": {
      "id": {
        "type": "integer",
        "readonly": true
      },
      "entity_type": {
        "type": "string",
        "required": true,
        "maxLength": 50
      },
      "entity_id": {
        "type": "integer",
        "required": true
      },
      "original_filename": {
        "type": "string",
        "required": true,
        "maxLength": 255
      },
      "storage_key": {
        "type": "string",
        "required": true,
        "readonly": true,
        "maxLength": 500
      },
      "mime_type": {
        "type": "string",
        "required": true,
        "maxLength": 100
      },
      "file_size": {
        "type": "integer",
        "required": true
      },
      "category": {
        "type": "string",
        "maxLength": 50,
        "default": "attachment"
      },
      "description": {
        "type": "text",
        "maxLength": 5000
      },
      "uploaded_by": {
        "type": "foreignKey",
        "relatedEntity": "user",
        "displayField": "email",
        "readonly": true
      },
      "is_active": {
        "type": "boolean",
        "default": true
      },
      "created_at": {
        "type": "timestamp",
        "readonly": true
      },
      "updated_at": {
        "type": "timestamp",
        "readonly": true
      }
    }
  },
  "inventory": {
    "tableName": "inventory",
    "primaryKey": "id",
    "identityField": "sku",
    "rlsResource": "inventory",
    "icon": "inventory_2",
    "displayName": "Inventory",
    "displayNamePlural": "Inventory",
    "requiredFields": [
      "name",
      "sku"
    ],
    "immutableFields": [
      "sku"
    ],
    "searchableFields": [
      "name",
      "sku",
      "description"
    ],
    "filterableFields": [
      "id",
      "name",
      "sku",
      "is_active",
      "status",
      "quantity",
      "reorder_level",
      "location",
      "supplier",
      "created_at",
      "updated_at"
    ],
    "sortableFields": [
      "id",
      "name",
      "sku",
      "status",
      "quantity",
      "unit_cost",
      "created_at",
      "updated_at"
    ],
    "defaultSort": {
      "field": "created_at",
      "order": "DESC"
    },
    "fieldGroups": {},
    "fields": {
      "id": {
        "type": "integer",
        "readonly": true
      },
      "name": {
        "type": "string",
        "required": true,
        "maxLength": 255
      },
      "is_active": {
        "type": "boolean",
        "default": true
      },
      "created_at": {
        "type": "timestamp",
        "readonly": true
      },
      "updated_at": {
        "type": "timestamp",
        "readonly": true
      },
      "status": {
        "type": "enum",
        "default": "in_stock",
        "values": [
          "in_stock",
          "low_stock",
          "out_of_stock",
          "discontinued"
        ]
      },
      "sku": {
        "type": "string",
        "required": true,
        "maxLength": 50
      },
      "description": {
        "type": "text",
        "maxLength": 5000
      },
      "quantity": {
        "type": "integer",
        "default": 0
      },
      "reorder_level": {
        "type": "integer",
        "default": 10
      },
      "unit_cost": {
        "type": "currency",
        "min": 0
      },
      "location": {
        "type": "string",
        "maxLength": 255
      },
      "supplier": {
        "type": "string",
        "maxLength": 255
      }
    }
  },
  "invoice": {
    "tableName": "invoices",
    "primaryKey": "id",
    "identityField": "invoice_number",
    "rlsResource": "invoices",
    "icon": "receipt",
    "displayName": "Invoice",
    "displayNamePlural": "Invoices",
    "requiredFields": [
      "customer_id",
      "amount",
      "total"
    ],
    "immutableFields": [
      "invoice_number"
    ],
    "searchableFields": [
      "invoice_number",
      "name",
      "summary"
    ],
    "filterableFields": [
      "id",
      "invoice_number",
      "customer_id",
      "work_order_id",
      "is_active",
      "status",
      "due_date",
      "paid_at",
      "created_at",
      "updated_at"
    ],
    "sortableFields": [
      "id",
      "invoice_number",
      "status",
      "amount",
      "total",
      "due_date",
      "paid_at",
      "created_at",
      "updated_at"
    ],
    "defaultSort": {
      "field": "created_at",
      "order": "DESC"
    },
    "fieldGroups": {},
    "relationships": {
      "customer_id": {
        "relatedEntity": "customer",
        "displayField": "email",
        "type": "belongsTo"
      },
      "work_order_id": {
        "relatedEntity": "work_order",
        "displayField": "work_order_number",
        "type": "belongsTo"
      }
    },
    "fields": {
      "id": {
        "type": "integer",
        "readonly": true
      },
      "invoice_number": {
        "type": "string",
        "readonly": true,
        "maxLength": 100,
        "pattern": "^INV-[0-9]{4}-[0-9]+$"
      },
      "is_active": {
        "type": "boolean",
        "default": true
      },
      "created_at": {
        "type": "timestamp",
        "readonly": true
      },
      "updated_at": {
        "type": "timestamp",
        "readonly": true
      },
      "status": {
        "type": "enum",
        "default": "draft",
        "values": [
          "draft",
          "sent",
          "paid",
          "overdue",
          "cancelled",
          "void"
        ]
      },
      "name": {
        "type": "string",
        "maxLength": 255
      },
      "summary": {
        "type": "string",
        "maxLength": 255
      },
      "work_order_id": {
        "type": "foreignKey",
        "relatedEntity": "work_order",
        "displayField": "work_order_number"
      },
      "customer_id": {
        "type": "foreignKey",
        "relatedEntity": "customer",
        "displayField": "email",
        "required": true
      },
      "amount": {
        "type": "currency",
        "required": true,
        "min": 0
      },
      "tax": {
        "type": "currency",
        "min": 0,
        "default": 0
      },
      "total": {
        "type": "currency",
        "required": true,
        "min": 0
      },
      "due_date": {
        "type": "date"
      },
      "paid_at": {
        "type": "timestamp"
      }
    }
  },
  "notification": {
    "tableName": "notifications",
    "primaryKey": "id",
    "identityField": "title",
    "rlsResource": "notifications",
    "icon": "notifications",
    "displayName": "Notification",
    "displayNamePlural": "Notifications",
    "requiredFields": [
      "user_id",
      "title",
      "type"
    ],
    "immutableFields": [
      "id",
      "user_id",
      "title",
      "body",
      "type",
      "resource_type",
      "resource_id",
      "created_at"
    ],
    "searchableFields": [
      "title",
      "body"
    ],
    "filterableFields": [
      "user_id",
      "type",
      "is_read",
      "resource_type",
      "created_at"
    ],
    "sortableFields": [
      "created_at",
      "is_read",
      "type"
    ],
    "defaultSort": {
      "field": "created_at",
      "order": "DESC"
    },
    "fieldGroups": {},
    "relationships": {
      "user_id": {
        "relatedEntity": "user",
        "displayField": "email",
        "type": "belongsTo"
      }
    },
    "fields": {
      "id": {
        "type": "integer",
        "readonly": true
      },
      "user_id": {
        "type": "foreignKey",
        "relatedEntity": "user",
        "displayField": "email",
        "required": true,
        "readonly": true
      },
      "title": {
        "type": "string",
        "required": true,
        "readonly": true,
        "maxLength": 150
      },
      "body": {
        "type": "text",
        "readonly": true
      },
      "type": {
        "type": "enum",
        "required": true,
        "readonly": true,
        "values": [
          "info",
          "success",
          "warning",
          "error",
          "assignment",
          "reminder"
        ]
      },
      "resource_type": {
        "type": "string",
        "readonly": true,
        "maxLength": 50
      },
      "resource_id": {
        "type": "integer",
        "readonly": true
      },
      "is_read": {
        "type": "boolean",
        "default": false
      },
      "read_at": {
        "type": "timestamp",
        "readonly": true
      },
      "created_at": {
        "type": "timestamp",
        "readonly": true
      },
      "updated_at": {
        "type": "timestamp",
        "readonly": true
      }
    }
  },
  "preferences": {
    "tableName": "preferences",
    "primaryKey": "id",
    "identityField": "id",
    "rlsResource": "preferences",
    "icon": "settings",
    "displayName": "Preferences",
    "displayNamePlural": "Preferences",
    "requiredFields": [
      "id"
    ],
    "immutableFields": [
      "id"
    ],
    "filterableFields": [
      "id",
      "created_at",
      "updated_at"
    ],
    "sortableFields": [
      "id",
      "created_at",
      "updated_at"
    ],
    "defaultSort": {
      "field": "created_at",
      "order": "DESC"
    },
    "fieldGroups": {
      "appearance": {
        "label": "Appearance",
        "fields": [
          "theme",
          "density"
        ],
        "order": 1
      },
      "notifications": {
        "label": "Notifications",
        "fields": [
          "notifications_enabled",
          "notification_retention_days"
        ],
        "order": 2
      },
      "data": {
        "label": "Data & Performance",
        "fields": [
          "items_per_page",
          "auto_refresh_interval"
        ],
        "order": 3
      }
    },
    "relationships": {
      "id": {
        "relatedEntity": "user",
        "displayField": "email",
        "type": "belongsTo"
      }
    },
    "fields": {
      "id": {
        "type": "foreignKey",
        "relatedEntity": "user",
        "displayField": "email",
        "required": true,
        "readonly": true
      },
      "theme": {
        "type": "enum",
        "default": "system",
        "values": [
          "system",
          "light",
          "dark"
        ]
      },
      "density": {
        "type": "enum",
        "default": "comfortable",
        "values": [
          "compact",
          "standard",
          "comfortable"
        ]
      },
      "notifications_enabled": {
        "type": "boolean",
        "default": true
      },
      "items_per_page": {
        "type": "integer",
        "min": 10,
        "max": 100,
        "default": 25
      },
      "notification_retention_days": {
        "type": "integer",
        "min": 1,
        "max": 365,
        "default": 30
      },
      "auto_refresh_interval": {
        "type": "integer",
        "min": 0,
        "max": 300,
        "default": 0
      },
      "created_at": {
        "type": "timestamp",
        "readonly": true
      },
      "updated_at": {
        "type": "timestamp",
        "readonly": true
      }
    }
  },
  "role": {
    "tableName": "roles",
    "primaryKey": "id",
    "identityField": "priority",
    "rlsResource": "roles",
    "icon": "badge",
    "displayName": "Role",
    "displayNamePlural": "Roles",
    "requiredFields": [
      "name",
      "priority"
    ],
    "searchableFields": [
      "name",
      "description"
    ],
    "filterableFields": [
      "id",
      "name",
      "description",
      "priority",
      "status",
      "is_active",
      "is_system_role",
      "created_at",
      "updated_at"
    ],
    "sortableFields": [
      "id",
      "name",
      "description",
      "priority",
      "status",
      "is_active",
      "is_system_role",
      "created_at",
      "updated_at"
    ],
    "defaultSort": {
      "field": "priority",
      "order": "DESC"
    },
    "systemProtected": {
      "protectedByField": "name",
      "values": [
        "customer",
        "technician",
        "dispatcher",
        "manager",
        "admin"
      ],
      "immutableFields": [
        "name",
        "priority"
      ],
      "preventDelete": true
    },
    "fieldGroups": {},
    "relationships": {
      "role_id": {
        "relatedEntity": "user",
        "displayField": "email",
        "type": "hasMany"
      }
    },
    "fields": {
      "id": {
        "type": "integer",
        "readonly": true
      },
      "name": {
        "type": "string",
        "required": true,
        "maxLength": 100,
        "minLength": 2,
        "pattern": "^[a-zA-Z0-9\\s_-]+$"
      },
      "is_active": {
        "type": "boolean",
        "default": true
      },
      "created_at": {
        "type": "timestamp",
        "readonly": true
      },
      "updated_at": {
        "type": "timestamp",
        "readonly": true
      },
      "status": {
        "type": "enum",
        "default": "active",
        "values": [
          "active",
          "disabled"
        ]
      },
      "description": {
        "type": "text",
        "maxLength": 5000
      },
      "priority": {
        "type": "integer",
        "required": true,
        "min": 1
      }
    }
  },
  "saved_view": {
    "tableName": "saved_views",
    "primaryKey": "id",
    "identityField": "view_name",
    "rlsResource": "saved_views",
    "icon": "bookmark",
    "displayName": "Saved view",
    "displayNamePlural": "Saved views",
    "requiredFields": [
      "user_id",
      "entity_name",
      "view_name",
      "settings"
    ],
    "immutableFields": [
      "id",
      "user_id"
    ],
    "searchableFields": [
      "view_name"
    ],
    "filterableFields": [
      "user_id",
      "entity_name",
      "is_default",
      "created_at",
      "updated_at"
    ],
    "sortableFields": [
      "view_name",
      "entity_name",
      "is_default",
      "created_at",
      "updated_at"
    ],
    "defaultSort": {
      "field": "view_name",
      "order": "ASC"
    },
    "fieldGroups": {},
    "relationships": {
      "user_id": {
        "relatedEntity": "user",
        "displayField": "email",
        "type": "belongsTo"
      }
    },
    "fields": {
      "id": {
        "type": "integer",
        "readonly": true
      },
      "user_id": {
        "type": "foreignKey",
        "relatedEntity": "user",
        "displayField": "email",
        "required": true,
        "readonly": true
      },
      "entity_name": {
        "type": "string",
        "required": true,
        "maxLength": 50
      },
      "view_name": {
        "type": "string",
        "required": true,
        "maxLength": 100
      },
      "settings": {
        "type": "jsonb",
        "required": true,
        "default": {}
      },
      "is_default": {
        "type": "boolean",
        "default": false
      },
      "created_at": {
        "type": "timestamp",
        "readonly": true
      },
      "updated_at": {
        "type": "timestamp",
        "readonly": true
      }
    }
  },
  "technician": {
    "tableName": "technicians",
    "primaryKey": "id",
    "identityField": "email",
    "rlsResource": "technicians",
    "icon": "engineering",
    "displayName": "Technician",
    "displayNamePlural": "Technicians",
    "requiredFields": [
      "email",
      "first_name",
      "last_name"
    ],
    "searchableFields": [
      "first_name",
      "last_name",
      "email",
      "license_number"
    ],
    "filterableFields": [
      "id",
      "email",
      "first_name",
      "last_name",
      "license_number",
      "is_active",
      "status",
      "availability",
      "created_at",
      "updated_at"
    ],
    "sortableFields": [
      "id",
      "email",
      "first_name",
      "last_name",
      "license_number",
      "is_active",
      "status",
      "availability",
      "hourly_rate",
      "created_at",
      "updated_at"
    ],
    "defaultSort": {
      "field": "created_at",
      "order": "DESC"
    },
    "fieldGroups": {
      "identity": {
        "label": "Identity",
        "fields": [
          "first_name",
          "last_name"
        ],
        "order": 1
      }
    },
    "relationships": {
      "assigned_technician_id": {
        "relatedEntity": "work_order",
        "displayField": "work_order_number",
        "type": "hasMany"
      },
      "technician_profile_id": {
        "relatedEntity": "user",
        "displayField": "email",
        "type": "hasOne"
      }
    },
    "fields": {
      "id": {
        "type": "integer",
        "readonly": true
      },
      "email": {
        "type": "email",
        "required": true,
        "maxLength": 255
      },
      "is_active": {
        "type": "boolean",
        "default": true
      },
      "created_at": {
        "type": "timestamp",
        "readonly": true
      },
      "updated_at": {
        "type": "timestamp",
        "readonly": true
      },
      "status": {
        "type": "enum",
        "default": "pending",
        "values": [
          "pending",
          "active",
          "suspended"
        ]
      },
      "availability": {
        "type": "enum",
        "default": "available",
        "values": [
          "available",
          "on_job",
          "off_duty"
        ]
      },
      "first_name": {
        "type": "string",
        "required": true,
        "maxLength": 100
      },
      "last_name": {
        "type": "string",
        "required": true,
        "maxLength": 100
      },
      "license_number": {
        "type": "string",
        "maxLength": 100
      },
      "hourly_rate": {
        "type": "currency",
        "min": 0
      },
      "certifications": {
        "type": "text",
        "maxLength": 1000
      },
      "skills": {
        "type": "text",
        "maxLength": 500
      }
    }
  },
  "user": {
    "tableName": "users",
    "primaryKey": "id",
    "identityField": "email",
    "rlsResource": "users",
    "icon": "person",
    "displayName": "User",
    "displayNamePlural": "Users",
    "requiredFields": [
      "email",
      "first_name",
      "last_name"
    ],
    "immutableFields": [
      "email",
      "auth0_id"
    ],
    "searchableFields": [
      "first_name",
      "last_name",
      "email"
    ],
    "filterableFields": [
      "id",
      "email",
      "auth0_id",
      "first_name",
      "last_name",
      "role_id",
      "is_active",
      "status",
      "created_at",
      "updated_at"
    ],
    "sortableFields": [
      "id",
      "email",
      "first_name",
      "last_name",
      "role_id",
      "is_active",
      "status",
      "created_at",
      "updated_at"
    ],
    "defaultSort": {
      "field": "created_at",
      "order": "DESC"
    },
    "fieldGroups": {
      "identity": {
        "label": "Identity",
        "fields": [
          "first_name",
          "last_name"
        ],
        "order": 1
      }
    },
    "relationships": {
      "role_id": {
        "relatedEntity": "role",
        "displayField": "name",
        "type": "belongsTo"
      },
      "customer_profile_id": {
        "relatedEntity": "customer",
        "displayField": "email",
        "type": "belongsTo"
      },
      "technician_profile_id": {
        "relatedEntity": "technician",
        "displayField": "email",
        "type": "belongsTo"
      }
    },
    "fields": {
      "id": {
        "type": "integer",
        "readonly": true
      },
      "email": {
        "type": "email",
        "required": true,
        "maxLength": 255
      },
      "is_active": {
        "type": "boolean",
        "default": true
      },
      "created_at": {
        "type": "timestamp",
        "readonly": true
      },
      "updated_at": {
        "type": "timestamp",
        "readonly": true
      },
      "status": {
        "type": "enum",
        "default": "pending",
        "values": [
          "pending",
          "active",
          "suspended"
        ]
      },
      "auth0_id": {
        "type": "string",
        "readonly": true,
        "maxLength": 255
      },
      "first_name": {
        "type": "string",
        "maxLength": 100
      },
      "last_name": {
        "type": "string",
        "maxLength": 100
      },
      "role_id": {
        "type": "foreignKey",
        "relatedEntity": "role",
        "displayField": "priority"
      },
      "customer_profile_id": {
        "type": "foreignKey",
        "relatedEntity": "customer",
        "displayField": "email",
        "readonly": true
      },
      "technician_profile_id": {
        "type": "foreignKey",
        "relatedEntity": "technician",
        "displayField": "email",
        "readonly": true
      }
    }
  },
  "work_order": {
    "tableName": "work_orders",
    "primaryKey": "id",
    "identityField": "work_order_number",
    "rlsResource": "work_orders",
    "icon": "build",
    "displayName": "Work order",
    "displayNamePlural": "Work orders",
    "requiredFields": [
      "customer_id"
    ],
    "immutableFields": [
      "work_order_number"
    ],
    "searchableFields": [
      "work_order_number",
      "name",
      "summary"
    ],
    "filterableFields": [
      "id",
      "work_order_number",
      "name",
      "customer_id",
      "assigned_technician_id",
      "is_active",
      "status",
      "priority",
      "scheduled_start",
      "scheduled_end",
      "created_at",
      "updated_at"
    ],
    "sortableFields": [
      "id",
      "work_order_number",
      "name",
      "priority",
      "status",
      "scheduled_start",
      "scheduled_end",
      "completed_at",
      "created_at",
      "updated_at"
    ],
    "defaultSort": {
      "field": "created_at",
      "order": "DESC"
    },
    "fieldGroups": {
      "identity": {
        "label": "Work Order Details",
        "fields": [
          "work_order_number",
          "name",
          "summary"
        ],
        "order": 1
      },
      "assignment": {
        "label": "Assignment",
        "fields": [
          "customer_id",
          "assigned_technician_id",
          "priority",
          "status"
        ],
        "rows": [
          [
            "priority",
            "status"
          ]
        ],
        "order": 2
      },
      "scheduling": {
        "label": "Scheduling",
        "fields": [
          "scheduled_start",
          "scheduled_end",
          "completed_at"
        ],
        "rows": [
          [
            "scheduled_start",
            "scheduled_end"
          ]
        ],
        "order": 3
      },
      "location_address": {
        "label": "Work Location",
        "fields": [
          "location_line1",
          "location_line2",
          "location_city",
          "location_state",
          "location_postal_code",
          "location_country"
        ],
        "rows": [
          [
            "location_city",
            "location_state",
            "location_postal_code"
          ]
        ],
        "order": 4
      }
    },
    "relationships": {
      "customer_id": {
        "relatedEntity": "customer",
        "displayField": "email",
        "type": "belongsTo"
      },
      "assigned_technician_id": {
        "relatedEntity": "technician",
        "displayField": "email",
        "type": "belongsTo"
      },
      "work_order_id": {
        "relatedEntity": "invoice",
        "displayField": "invoice_number",
        "type": "hasMany"
      }
    },
    "fields": {
      "id": {
        "type": "integer",
        "readonly": true
      },
      "work_order_number": {
        "type": "string",
        "readonly": true,
        "maxLength": 100,
        "pattern": "^WO-[0-9]{4}-[0-9]+$"
      },
      "is_active": {
        "type": "boolean",
        "default": true
      },
      "created_at": {
        "type": "timestamp",
        "readonly": true
      },
      "updated_at": {
        "type": "timestamp",
        "readonly": true
      },
      "status": {
        "type": "enum",
        "default": "pending",
        "values": [
          "pending",
          "assigned",
          "in_progress",
          "completed",
          "cancelled"
        ]
      },
      "name": {
        "type": "string",
        "maxLength": 255
      },
      "summary": {
        "type": "string",
        "maxLength": 255
      },
      "priority": {
        "type": "enum",
        "default": "normal",
        "values": [
          "low",
          "normal",
          "high",
          "urgent"
        ]
      },
      "customer_id": {
        "type": "foreignKey",
        "relatedEntity": "customer",
        "displayField": "email",
        "required": true
      },
      "assigned_technician_id": {
        "type": "foreignKey",
        "relatedEntity": "technician",
        "displayField": "email"
      },
      "scheduled_start": {
        "type": "timestamp"
      },
      "scheduled_end": {
        "type": "timestamp"
      },
      "completed_at": {
        "type": "timestamp"
      },
      "location_line1": {
        "type": "string",
        "maxLength": 255
      },
      "location_line2": {
        "type": "string",
        "maxLength": 255
      },
      "location_city": {
        "type": "string",
        "maxLength": 100
      },
      "location_state": {
        "type": "enum",
        "values": [
          "AL",
          "AK",
          "AZ",
          "AR",
          "CA",
          "CO",
          "CT",
          "DE",
          "DC",
          "FL",
          "GA",
          "HI",
          "ID",
          "IL",
          "IN",
          "IA",
          "KS",
          "KY",
          "LA",
          "ME",
          "MD",
          "MA",
          "MI",
          "MN",
          "MS",
          "MO",
          "MT",
          "NE",
          "NV",
          "NH",
          "NJ",
          "NM",
          "NY",
          "NC",
          "ND",
          "OH",
          "OK",
          "OR",
          "PA",
          "RI",
          "SC",
          "SD",
          "TN",
          "TX",
          "UT",
          "VT",
          "VA",
          "WA",
          "WV",
          "WI",
          "WY",
          "AS",
          "GU",
          "MP",
          "PR",
          "VI",
          "AB",
          "BC",
          "MB",
          "NB",
          "NL",
          "NS",
          "NT",
          "NU",
          "ON",
          "PE",
          "QC",
          "SK",
          "YT"
        ]
      },
      "location_postal_code": {
        "type": "string",
        "maxLength": 20
      },
      "location_country": {
        "type": "enum",
        "default": "US",
        "values": [
          "US",
          "CA"
        ]
      }
    }
  }
}